CREATE DATABASE PumoxTest

USE PumoxTest;

DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'Pumox.Test.DAL.Migrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '202010102110573_Init'
BEGIN
    CREATE TABLE [dbo].[Company] (
        [Id] [bigint] NOT NULL IDENTITY,
        [Name] [nvarchar](max) NOT NULL,
        [EstablishmentYear] [int] NOT NULL,
        [DateCreated] [datetime] NOT NULL,
        [DateModified] [datetime] NOT NULL,
        [RowVersion] [varbinary](max),
        CONSTRAINT [PK_dbo.Company] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[Employee] (
        [Id] [bigint] NOT NULL IDENTITY,
        [FirstName] [nvarchar](max),
        [LastName] [nvarchar](max),
        [DateOfBirth] [datetime] NOT NULL,
        [JobTitle] [int] NOT NULL,
        [CompanyId] [bigint] NOT NULL,
        [DateCreated] [datetime] NOT NULL,
        [DateModified] [datetime] NOT NULL,
        [RowVersion] [varbinary](max),
        CONSTRAINT [PK_dbo.Employee] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_CompanyId] ON [dbo].[Employee]([CompanyId])
    CREATE TABLE [dbo].[Log] (
        [ELId] [int] NOT NULL IDENTITY,
        [ErrorType] [nvarchar](max),
        [Message] [nvarchar](max),
        [ErrorMessage] [nvarchar](max),
        [StackTrace] [nvarchar](max),
        [LogLevel] [int] NOT NULL,
        [RequestUri] [nvarchar](max),
        [MachineName] [nvarchar](max),
        [DateModified] [datetime] NOT NULL,
        [DateCreated] [datetime] NOT NULL,
        [RowVersion] rowversion NOT NULL,
        CONSTRAINT [PK_dbo.Log] PRIMARY KEY ([ELId])
    )
    CREATE TABLE [dbo].[File] (
        [Id] [int] NOT NULL IDENTITY,
        [MimeType] [nvarchar](100),
        [RefId] [int] NOT NULL,
        [RefGid] [int] NOT NULL,
        [Description] [nvarchar](max),
        [GroupId] [int] NOT NULL,
        [DateModified] [datetime] NOT NULL,
        [DateCreated] [datetime] NOT NULL,
        [RowVersion] rowversion NOT NULL,
        [Name] [nvarchar](100) NOT NULL,
        [Extension] [nvarchar](20),
        [UserId] [nvarchar](max),
        CONSTRAINT [PK_dbo.File] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[AspNetRoles] (
        [Id] [nvarchar](128) NOT NULL,
        [Name] [nvarchar](256) NOT NULL,
        CONSTRAINT [PK_dbo.AspNetRoles] PRIMARY KEY ([Id])
    )
    CREATE UNIQUE INDEX [RoleNameIndex] ON [dbo].[AspNetRoles]([Name])
    CREATE TABLE [dbo].[AspNetUserRoles] (
        [UserId] [nvarchar](128) NOT NULL,
        [RoleId] [nvarchar](128) NOT NULL,
        CONSTRAINT [PK_dbo.AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserRoles]([UserId])
    CREATE INDEX [IX_RoleId] ON [dbo].[AspNetUserRoles]([RoleId])
    CREATE TABLE [dbo].[UserData] (
        [ULId] [int] NOT NULL IDENTITY,
        [IP] [nvarchar](max),
        [OperatingSystem] [nvarchar](max),
        [Device] [int] NOT NULL,
        [PhoneModel] [nvarchar](max),
        [PhoneManufacturer] [nvarchar](max),
        [Platform] [nvarchar](max),
        [Resolution] [nvarchar](max),
        [Language] [nvarchar](max),
        [Browser] [nvarchar](max),
        [ServiceUnresponded] [bit] NOT NULL,
        [DateModified] [datetime] NOT NULL,
        [DateCreated] [datetime] NOT NULL,
        [Type] [nvarchar](max),
        [ContinentCode] [nvarchar](max),
        [ContinentName] [nvarchar](max),
        [CountryCode] [nvarchar](max),
        [CountryName] [nvarchar](max),
        [RegionCode] [nvarchar](max),
        [RegionName] [nvarchar](max),
        [City] [nvarchar](max),
        [Zip] [nvarchar](max),
        [Latitude] [float],
        [Longitude] [float],
        [LocationId] [int],
        [RowVersion] [varbinary](max),
        CONSTRAINT [PK_dbo.UserData] PRIMARY KEY ([ULId])
    )
    CREATE INDEX [IX_LocationId] ON [dbo].[UserData]([LocationId])
    CREATE TABLE [dbo].[Location] (
        [LOId] [int] NOT NULL IDENTITY,
        [GeonameId] [int],
        [Capital] [nvarchar](max),
        [CountryFlag] [nvarchar](max),
        [CountryFlagEmoji] [nvarchar](max),
        [CountryFlagEmojiUnicode] [nvarchar](max),
        [CallingCode] [nvarchar](max),
        [IsEu] [bit],
        CONSTRAINT [PK_dbo.Location] PRIMARY KEY ([LOId])
    )
    CREATE TABLE [dbo].[Language] (
        [LAId] [int] NOT NULL IDENTITY,
        [Code] [nvarchar](max),
        [Name] [nvarchar](max),
        [Native] [nvarchar](max),
        [LocationId] [int] NOT NULL,
        CONSTRAINT [PK_dbo.Language] PRIMARY KEY ([LAId])
    )
    CREATE INDEX [IX_LocationId] ON [dbo].[Language]([LocationId])
    CREATE TABLE [dbo].[AspNetUsers] (
        [Id] [nvarchar](128) NOT NULL,
        [Email] [nvarchar](256),
        [EmailConfirmed] [bit] NOT NULL,
        [PasswordHash] [nvarchar](max),
        [SecurityStamp] [nvarchar](max),
        [PhoneNumber] [nvarchar](max),
        [PhoneNumberConfirmed] [bit] NOT NULL,
        [TwoFactorEnabled] [bit] NOT NULL,
        [LockoutEndDateUtc] [datetime],
        [LockoutEnabled] [bit] NOT NULL,
        [AccessFailedCount] [int] NOT NULL,
        [UserName] [nvarchar](256) NOT NULL,
        CONSTRAINT [PK_dbo.AspNetUsers] PRIMARY KEY ([Id])
    )
    CREATE UNIQUE INDEX [UserNameIndex] ON [dbo].[AspNetUsers]([UserName])
    CREATE TABLE [dbo].[AspNetUserClaims] (
        [Id] [int] NOT NULL IDENTITY,
        [UserId] [nvarchar](128) NOT NULL,
        [ClaimType] [nvarchar](max),
        [ClaimValue] [nvarchar](max),
        CONSTRAINT [PK_dbo.AspNetUserClaims] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserClaims]([UserId])
    CREATE TABLE [dbo].[AspNetUserLogins] (
        [LoginProvider] [nvarchar](128) NOT NULL,
        [ProviderKey] [nvarchar](128) NOT NULL,
        [UserId] [nvarchar](128) NOT NULL,
        CONSTRAINT [PK_dbo.AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey], [UserId])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserLogins]([UserId])
    ALTER TABLE [dbo].[Employee] ADD CONSTRAINT [FK_dbo.Employee_dbo.Company_CompanyId] FOREIGN KEY ([CompanyId]) REFERENCES [dbo].[Company] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[AspNetRoles] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[UserData] ADD CONSTRAINT [FK_dbo.UserData_dbo.Location_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [dbo].[Location] ([LOId])
    ALTER TABLE [dbo].[Language] ADD CONSTRAINT [FK_dbo.Language_dbo.Location_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [dbo].[Location] ([LOId]) ON DELETE CASCADE
    ALTER TABLE [dbo].[AspNetUserClaims] ADD CONSTRAINT [FK_dbo.AspNetUserClaims_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[AspNetUserLogins] ADD CONSTRAINT [FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202010102110573_Init', N'Pumox.Test.DAL.Migrations.Configuration',  0x1F8B0800000000000400ED5D596F23B9117E0F90FF20E8290966251FBB838D61EFC223DB1327BE30B27793BC0C2889927BA7D5ADEDC36323D85F9687FCA4FC85907DF16693DDEC963C190C30B0787CBCAA8A64B1BAEABFFFFECFF18FCF6B7FF004A3D80B8393E1FE686F3880C13C5C78C1EA649826CB6FBE1FFEF8C3EF7F777CBE583F0F7E2ACB1DE272A866109F0C1F936473341EC7F347B806F168EDCDA3300E97C9681EAEC760118E0FF6F6FE3CDEDF1F430431445883C1F1873448BC35CC7EA09F933098C34D9202FF3A5C403F2ED251CE34431DDC80358C37600E4F8677E93A7C1EDDC338199D9D5E0D07A7BE07502FA6D05F0E072008C20424A88F470F319C265118ACA61B9400FCFB970D44E596C08F61D1F72352DC74187B0778186352B1849AA77112AE2D01F70F8B7919F3D51BCDEEB09A373473E7688693173CEA6CF64E869370BD01C1CB70C0B77534F1235C8E99DB775757A37C314645C5370336FB4D450E886AF0BF378349EA2769044F02982611F0718D99EFCDFF065FEEC34F30380952DFA73B89BA89F29804947417851B18252F1FE0B2E8FAE5623818B3F5C67CC5AA1A55271FD56590BCFD7638B8418D83990F2B1AA066609A84117C0F031881042EEE4092C028C018309B45A175AE2DFC7FD91A223AC43BC3C13578BE82C12A793C19A23F87830BEF192ECA94A2070F8187580D554AA2144A7AA86FF53C4E50692F7E5CA35EFE0382881AF0E18135DC191AFA248278024A209C74EFADEDBB862B22EAF1969E03B00FE1E782D24AA8775E00A217B339E6B06FC093B7CA169D9FCDF5C60F5F208C87830FD0CF4AC48FDE26972CA332F763C5451751B8FE10FA54CD32EFE33D885630419D0D1505A6611ACDB9BE1D8F09C76AF9B844B367E4B2E6574E56B675E14571E2889DF52D5D819E1AC27C77BB7CE745C9636B56FC6B38BBF7129F741AF30649B4442BD8A17E7DBF0A2E8DE0AA24525BB1554A25A5D82AE55A23B17515AE3231A4155B6713C4BD37F07329B1CA4A48FE94593D0AABF3AB26E22AAFA5DF89DD09ACF3280AB3D9EB5C8E5CC33806ABEEDBC946D45763D304CC3FDD4760DE83C00F5757F0093300253B5162BE78B6A205FE9AA2DDFB21F2BA5F77307FF402D8DB5EE54CFCBADC17D4A21CDF5DD3284297E697EB6C9CD9243073F3BD7C661A48052C89D36C3C8D64F085E7437B215CD5DA8E146E7D64EC58025F237AAA11C0FB7B7B0E98034D49FDB86A21DE7B0B4602DDCE7E692481CE603C8FBC4D42B1446762E17D14A69BB663FF2A5B9AC8166B658729ADDB2A3B9E1318C47A623B70C1650F318C08A939226963095D0A1D7C02D709E9EB4A0F781A6F6E60322A2B8E72C88B08C17D0EA34F231AF1CDC0B81E11F007A602FE707FB63CFCFEBBB76071F8F65B78F85DFFC25E468E070A0E69478E354C70F0DD5B27AD2A2F7D984AE59A2A7ABD3F16C5C8A54FCC15AE7D9222AD2E7E251E86724FD625EAEE93762958C6F545F1809A7042ADECEA881BCAFE76DBAE31C5E16940BB313038EAFE0C67F8445B1E75999AF8B85BE4F778DC7D68A47478E855E97079D7F991EF7683FB86B0A72F7102D7DDDF3CE193472901B024CD931A1D8EEF1EC3A0BC6975DCF1BC2910A44B30C7041975DF22DA739661D4FD9A7C8071E8A7BDDC30AE40B04AFB5038BD8BC2CF710F8B348511A6DE872082F1260C16E49EF22E44D21A045FCEFDA917ED27BA8A216984C4E30455E9AFB55EB46E93300D92E8A5A791656DF532AE0F708564472FC3CA9BEA67B5B20DBAE346FEE96D7A90B9E8AC9192C5390BD109CA408D1EAC1A559B67471FE198B40B4F7865E7A4173AE64CFA911425973A7909E162A728D6F255AFEC8EC529BBACB49D03F6D56D9303765EABAF03F67B1806E80F4B629D808D9780EE8F9C850CBFF0C1AACFB6CED7E12FDD3F77F10D1695BB6F17F83E42EE65B7BA8CCF53E138682CAC8AA3B25CFD54E64A05959029984A89255AD94A9163BD8D782A2A6D493C9D36124FA77D8AA75E88B497C3D40D9A8FA7EE9B519E3E1A2B80B547064B26E40F0A6A366DC484A79B0D628C0CE821BBFA1AD92D9E9D5EE58A5B0FC6230E82316044055FCD6B747F2AD9F335F0742701D3170A8356D06575E945EBF61A863B10C79FC368F117103F76CE9253384F2344A8D304ACBBBFEB645ABA9B743DEB433F47DA72B634F79FC30B3047BBC679806BB5C64392E5539826E7C102AB7D1E92B9A805320470D29DD3F91CC6F1052266B8C80E80ED4C0DB08CDAF60BE1C407DE5A7E46E3A4E9C7B228D923E425848D42514CB65BE8F7B295179875B52CAAEE6A5EA2B6AB4531DBAE6230B39E1625D51DCD0AD4F6332FE5EC01365B21F72FB019ECEE3FC1EEBA29D9B6DE6FB3E5EB478D8E5BFA09F8A9EBA61A71432604DC734306BBFBDC907513253F790B7C2A31B04B280B2378A3F272930783DB2CDBB3BED9811966DF8DF72303D4EC92AE2966219FF65CC65823463EA035FEF60C23C6D53742AE3E3D4383450BE4BFA0C9A185333BB3D7109F81CB23DE62ED055E8C20918C1E0E32197432DC139683A974860DF6F1F25415F6F5154EA3F9A397C079525510B5B64C856B10A09B36C13F14D7295F11CD2A551F11582C5266C85D2C4E51BF34EFEE6F4DCEE02C5D99AE45F65D88E93A5C804C116EB60697C132542D005FF667100555D96F1B2C56656F6DBB5894457E81E1C01EDF7ECDEE400483C4741D268F9EBF50AD83D17CD156383653C62975098C03B56E134A8F3F25E1C674DAAEC39987A5AECDBC9DC67138F7B279A8B433DCD77F6C8BE8F23DA8FB1490584391CF8EAFD11479F89682F68F93E19F849168702B753FC1ADBE4C6461F787FCF1E23638833E4CE0E0749E3B589880780E16E2868A6667C1A6A01309C454EB01ACACC27B801724E2F1C50BE6DE06F8359DE7EA195E3470BFAA16F89C33B881013E1CD6AC8749D3D447B5620FAA86B819AB9BA0E331455D7AA293D81FABC843678C4C08843589EF904AB41D9350AE68D85CC7198DE8503D4B3D50A27A264C1A97DB31F74488E223886AB9352F2264B5C953A2B9FCD3BC7752C0D51BCDAE494065F74DD65E666661457ACA55316A9D7A70DB0AF529AC7654945267C243C885336E3727C61AF31F038ADC1B8DC4734B23CAD2F7A517F2D2CFF8ABA031851E5F4500754A7D4200C28B6D2FBB6ECD6B8262E72D34DA9D6CBDFA19EB61FBD54F894907945F1D6D83408BD71B5302E09F72768D40B937240581164AE65E08949DB12D10283B25AF8E40F3473BD3F5E75EF0768D3CD9A7C3FE2F2EDAE9DA026D32F3B163A4996BE3F1671FA806D1B5615D395695E30CF89C48345EA88F85D22B2E14FF3C7960E0294C18F580879FA6C90B00AF8A11CE902C06E52A4FC0206AA23A10ACCE45E24282415C45D5605C644A32A13EE5E6A406A078A41710589D430D08CF4E3A40C27235A0E5F15482C5DD006A80CA53AAAC57E4A05F07426C7E4590EA626C30241980202D2DE6BB345DD14E787144B4802DCD4CB4B0C5C6CEC1520C2E720CF1C3461553F96AE3A58E81BEB61A13C3A482FC32D0D0524894C8E0772376B0061321F34E204E459D0ED1548B480DA2604CCD5468947E148E84D95B4F8AC45C579C931A7596A1428B1A09C5D39A5951ABB0682822635A4F86EA732771464C542C364A166A4044FA6AA6A646A1D2D1FCA88CF7C4F931510FD82808B8F9D1D34DCD655EC151E5609CCF5229D0EB67497647B5B9A5B69A25EE46A998A57230CE67A91068F59324B92759DC945A4D117BAB7124994B7398EA005EE51D8F7317F445C2F158E1ABFEF81A6C365EB0A27CD717298369EEB87EF2CDD4DEABFB3AC718CF99D9E6AF0B554B49182159CDE5E6DFEB649E8DB1B89A01FC743E59AC8562C2754371602A9BE36F14E22296A7A7B206FE9BBADA902F3D14671E328B176860D8CF793646289C4E243507387A00F0412431E89C847EBA0ED4B74C75EDDCAC9BAE9FA7982348DCB6D370926C736CC6AD028DCA64D8E1119F0F3C20C93147A43FA8A6F1E87411ED78CC9181702317684DD09BB0C46B44DAE40CDD82B4AB1BB13D6DABAB7643DC94F7731A844A36C722FECD6928926A47849503739E06AB0C733C62D4488391547324CAD68286D29860E847F99575DDB16EA95E6AC1B9951ECA9E73D55595DBC2154F4632F7E35A04E20A9C8121C9E65895FF6D1AA94AB4EC93148CCD3147A43D76D37874BA8594AA9C723352AA4AB5E00ECA2337C31D54BAC5FCD34EB79935A033B6290D5CCBAB57255D32C5730BC94234D4F6A24553B79B53017170CD1062956AC3234BBE2B45921546E6C29A03C9D22CA897F65ECD502F9D618E5779A8A6B1AAC4AF7CDAE1758A388666B617926C8E553EF8D140AA47C0ADC91E95EEC558F8308F5BF6F2475F7DDBB7EE2D2D8AA87C72B040D56361F3455243B8E101B594C82D7F590921B706DEDAA2555AFE166BC53EC6DA2F544D7DE52A09B70599DF601D02F6E1CB30E49D4DEDDB0DE79E978612326DF6E5DC0D2FBB25E769E628B4FB5D1A894EB745633CEC8AA04CB60576E54B9781AC526DCE45C4592E7B3622E936DA9BF2519FD5DEC89FFA754895C35B1AA84AB4B8F7491CDA32F73F49FE9774EE124FE0B6A76FCE852DABB162B21A608A3B3497658349B9A36511A90C6B3C590FA90C1B4E236E65594E23E9B66862E7E8748BB17AC90B37484FF43BA143C83CBFD20059828DE4480AF7ACACE428536D743395A75756395325DB60115B7D164C6DC3AF59B3D7A4AB20C607AD54A172EB0A2355A8AAAA72B16E8565927EEDA146A0FCA7321772926CC152A5575586ABCA446B31947B4D9588A13CA3115EE11955015AE43647AE5CA0EA1AA80AD9CC2CE5F2949D5D2AC3E2489BB935650EB559CAEEB0626572D58615CB43580356545655B2E2A9C08A12FFA47A621229C76E59DBEB884A2F9F2C469ED6F51EB2C5BB6D2B32E3AD72EDA9AD16A11B5D51E1F9925106E649961894F344018CCAB3B8EC31FE2D990B1F93637329629C58B2F72126CBF2BA5BBAAA142EBA6546233CC58CCA4B585C8D04E794CC3549C8B56279DE4D25C7F97C76036C499FF93C735489274B1A58926DA71E17853149DD19E127312975A48ECD3F2568A78F556074230DDDA873290781CC4E4E922DB10A1780025891BE9394A4B40C6E4449F9D723ED284981A196388C5B3DCEE241E70B508DC9F8CA6384BACE57A01A6F879EE004A360BE48D57A9152FDAE8C820B835CC652381B39B6FBCD461C17C6C1BC856E5E643828A7116DE899327D840B8CA6BFFA13DF83587C9705AE41E02D11A1E56EAA86077BFB07C3C1A9EF8138B7E12E6C8F8FF82F088D8C91F70FB131325CACC77C757B93668C12C70BE6B14374D3297759D58397D799873801CD6BAD2BD7161163832710CD1F41F4873578FEA3BD6B77D1423887CDFADD3E10DB02FD489A0675E323C4350613232FA1499B65C19784696BE10E566E62FB9A098DB2D6ADA136B3205D0EC11883DD96F441EC759B133F65A8CBAE89F099F565B080CF27C37F65158F06977FFF58D57D33B88D90FC3D1AEC0D7EFBCA7E96EC27B79335633F997D6C3D039E5391723BE13FCADED601CB5416B20EB058935B0780B4CDAD0B595399DD366769DADCD6C5F4D3E6B68E24A0331E75293C447E8FC2CF4F658A8247B00C4CB3D6DD04EE5698B6F6B11B77220A888D2C4B3AAC3FEFBD3D5B2A2A8C66DB70496E30DBE2DC48DBC93A608CCA56B6DD51F6FF8EB7CC2E1A3A8233DBD48839AD06F9C09A92596FF71614641DEF41B482EC43ACC817007BF077B2AA75E7543C68FC5796FC6670193F041EDA1F8F06F76842F171958F48E4468E8BDE6ED41DFDADC9A2283D338945E556A7F56B28A74CA3AB415E95BD17B45CFE72140D7A93576DD11BE365D7D8B21A2E6BA313FD43D7277A6C1AEB608B13CC625D9C270BDBD8E6BB266D13EBA043126B5817A89541AC0330DA22D68986A4348A75005619C6BAB89D492C624B35C71774BA7276D5E68C605D223ABB3F3226B0EEF09CF58FB6817506E76EF632E9EF0028B38975223B4AB3D81C6CE98720B1062106B1AD50F810C5A69A505253A50A355AEABE148E524FEC6601D32456A806C1CC6E3B3E9E5056ADD2638059F4F9C29ED59D4CC9ED59DDE215A6AC1D8056E6AB2EB069F3550778B915AB74EB6EC3095263D0BE82D477C209CE66DCD98EC3C6976FA91DEF4E40B7B9F569CD3C5F958E8589992E5770B13A92E621D29B9CC065E1D15B5E102421D0DBDFFED830E7AEF09C4CA12A8C79132C650873D94DC690C12521CD9B744D19CEBC8982800F666EAE7C2A6B6E51FB28B1B57CB5AF49BBA591146246B73B320971A1BB7C0BD0C57E6EA7987E6531959D6D9D7762C86467D8DBA47B1569B508B659B980CFC7D35B104CD1E97BC3F89E8D8281A81DBC9AC8DE4193E8995F72B8CC5D8990495EF824FDE93130669FB130356E794C9F1F7B222E8B1098959F7D6A1D7B894C29861A681876B359884BF577ED66FA3F2B0AD27CBA2B3B4ABCAE10965624240D25A908ADD026FCE52B208A3A0F523B4819ED024FEE40A834497420C5FED56378C9BEF730D5B78C16E636BB1F4472C788ADB8752A88ADC750917D139BEA73C71D2736AB80903B466BDB3A976F99D28C8FE65B0FEF288665E197B5F83695BDABEA2237E69F8D9E0C17B3102D7DAED6B00DEBA88DEA286BC038E62309EC28B440B2642D6471226BC0A9A88F023A952783CFE348D6E0B3B76CA109365BD6CA69BCB981893C3491AA31C2AACA06491175A3EA98487CC3DCF95A6895CB9735A90A9EA60C4DA98D4C292707CBB895DAB095D2164C835A0A625E684828A15F263BDA288EA75AE228CAE89B55445ED3B55D9C56B46D1765F46D2BE299F511499313A94C4429716390A950A98A4A39B8737132A581D36471696B0E1712146584DB5D888BC9091CD63FA16EE8BC2061DDA9B51F6A87512F9B0F5ABA1748BC56B71F7E7F412D9961D4441EAE531928A85F1E6E789763583A9914663B50B8AA713F295D85AC7432252E85A445884AD1EB0CBABAA401B649C97F9DC1D85B1188638419C0397369A9CA5C06CBB0BC3B713D2A8B089FAC27608184C3699478F82B10948DCD51BC009DE1B3277EBC53CEE0E232B84D934D9AA021C3F5CC67365C7C07D3B59FC5E164FB7C7C9B7D8D1ABB1802EAA687CD786E8377A9E72FAA7E5F485E881510F87257187FE0B54CB011C8EAA542BA090343A062FAAA3BE93D44C70C0416DF0653806D0BEDFB86C8EF0AAEC0FC85D803A840EA17829DF6E3330FAC22B08E0B0C521FFD4434BC583FFFF03F7A99C3D978D40000 , N'6.4.4')
END

IF @CurrentMigration < '202010111824361_EmployeeValidation'
BEGIN
    DECLARE @var0 nvarchar(128)
    SELECT @var0 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Employee')
    AND col_name(parent_object_id, parent_column_id) = 'FirstName';
    IF @var0 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Employee] DROP CONSTRAINT [' + @var0 + ']')
    ALTER TABLE [dbo].[Employee] ALTER COLUMN [FirstName] [nvarchar](max) NOT NULL
    DECLARE @var1 nvarchar(128)
    SELECT @var1 = name
    FROM sys.default_constraints
    WHERE parent_object_id = object_id(N'dbo.Employee')
    AND col_name(parent_object_id, parent_column_id) = 'LastName';
    IF @var1 IS NOT NULL
        EXECUTE('ALTER TABLE [dbo].[Employee] DROP CONSTRAINT [' + @var1 + ']')
    ALTER TABLE [dbo].[Employee] ALTER COLUMN [LastName] [nvarchar](max) NOT NULL
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202010111824361_EmployeeValidation', N'Pumox.Test.DAL.Migrations.Configuration',  0x1F8B0800000000000400ED5D596F23B9117E0F90FF20E8290966251FBB8BCDC0DE8547B6274E7C6164EF267919D01225F74E1FDA3E3C3682FD6579C84FCA5F08D9076F7693DDEC963C590C30B0787C248BC52259ACAEFAEFBFFF73F4C373E08F9E609C7851783CDE9FEC8D47305C444B2F5C1F8FB374F5D577E31FBEFFFDEF8ECE96C1F3E8C7AADC212E876A86C9F1F8314D376FA7D364F10803904C026F114749B44A278B28988265343DD8DBFBF3747F7F0A11C418618D46471FB230F50298FF403F6751B8809B3403FE55B4847E52A6A39C798E3ABA06014C3660018FC7B759103D4FEE60924E4E4F2EC7A313DF03A81773E8AFC6231086510A52D4C7B7F7099CA77114AEE71B9400FCBB970D44E556C04F60D9F7B7B4B8E930F60EF030A6B46205B5C892340A2C01F70F4BBA4CC5EAADA83B267443943B43144E5FF0A873EA1D8F6751B001E1CB7824B6F576E6C7B89C48DB490EE1C16452567D33E20BBC210C81F806FF7B339A657E9AC5F03884591A031FD778F0BDC5DFE0CB5DF40986C761E6FB6C375147511E9780926EE36803E3F4E5035C959DBF588E4753BEDE54AC48AA31758A715D84E9B75F8F47D7A871F0E043C2050C0DE66914C3F730843148E1F216A4298C438C01733A4AAD0B6D9DA25AB318E2BA55A338E90E31B9A2DD662CB40EBC95E7000CFF5F81A0F58096F57874059E2F61B84E1F8FC7E8CFF1E8DC7B86CB2AA544BD0F3D240550A534CEEC5B3D4B5254DA4B1E0344BE7F401033337178600DF721FA5C725A85F3CE0B41FC62361401FB1A3C79EB7CD2C54E071B3F7A8130198F3E403F2F913C7A9B42B64CAADC8F641D9DC751F021F2999A55DEC73B10AF618A3A1B690ACCA32C5E087D3B9AD2355BBB922BB4364BB9AAFBDB5AD6B655CE517393AF5424385D4D02F6B91727E97664CE25D856CB78266E56EFBC387DEC3C397F8D1EEEBCD4A7A3C0B2872636A169851B915A5D455B25B9B4A2AD927DAD44DB65B4CE8F80B5A2ED7486D6F735FC3C294E8B93AA12925055D680E2ECECB28D402B6AD56F8AEE44DA591C4739F51C2C8EFA96AE60928075FFEDE4231AAAB1790A169FEE62B0E8BF29C4CB97F0092F0066FDA3C462F26C253DFC2543FBFB7DECF53FEF60F1E885D091001E703774B94DEB77567CC3CDE2185DAD5FAEF271E644E068F39D9A322DA40296C4593E9E5632F8DCF3A1BD1026B5B623853B1F2A7B96C057889F1A04F0FEDE9E83C58148D23CAE4688F7DE929340370F3FB79240A73059C4DE266596446F62E17D1C659BAE63FF4DB6B4912DD67A07535EB7D53B3CA7304CEA99EDC0C52ABB4F604C59CD114B1B4BE84AE8E013789D90BE22DAC29364730DD34955B1D007BC9CC708EE73147F9AB0886F46C6F5A8803F3015F087FB0FABC3EFBEF9162C0FBFFD1A1E7E33BCB057B1E38166857463C7864570F0CDB74E5AD55EFA3097AAB559EC7C7F2C8BD14B9F9C2B5DFB14453A5DFC2A3C0CE59EAD2BD4DD67ED4AB04C9B8BE201B559098DB2ABA7D550F5B7DF768D390E9301EDC6C0E0A8FB137CC027DAEAA8CBD5C4C7DD327FC0E3EE7D2BA5C3FDA04A878BDBDE8F7C371BDC37843D7F495218F47FF3844F1EA304C092B4486A7538BE7D8CC2EAA6D573C78BA64098ADC0023364DC7F8B68CF594571FF73F20126919F0D72C3B804E13A1B42E1F42E8E3E27034CD21CC6987BEFC318269B285CD27BCABB08496B107E39F7A741B49FE82A86A411128F335465B8D606D1BACDA22C4CE397814696B735C8B83EC035921D830CAB686A98D9CA37E89E1BF9A7B71940E6A2B3464627E73442272803357AB86E556D911F7DA463D22ED827549D535EE8B833E9475A945EEAD425A48B9DA658C757BDAA3B16A7ECAAD2760ED897376D0ED845ADA10ED8EF6114A23F2C997506365E0AFA3F729632FCDC07EB21DB3A0BA29FFB7FEE121B2C2BF7DF2EF07D843CC86E75919C65D271D05858954765B5FAA9CA550A2A295332A7924B74B2A7A2C77A1BF15456DA92783A69259E4E86144F8330E92087A96B448FA7FE9BD19E3E5A2B806B8F0C968B503C28E89769AB4578B2D9A0859103DDE7575F7BDB4601E2D59A380EA7923D0B80577712307DA13068055D56575E1C74D730DC8224F91CC5CBBF80E4B1F72539878B2C468C3A4F41D0FF5D27D7D25D67C1C310FA39DA96B3A9B9FB1C9D8305DA35CE425CAB331E922C9FA22C3D0B9758ED739F2E642D90218093EE9C2C163049CE1133C3657E00EC666A8065D4B65F08673EF002F5194D90A61FABA2748F509790360A4D31D56E51BF97ADBDD0ACAB55517D578B128D5D2D8BD976158399F5B42CA9EF685EA0B19F4529670FB0F90CB97F81CD6177FF0976D74DC9B6F57E9B4FDF306A74DCD28FC0CF5C37D56A35E442C0FD6AC861777F35E4DD44C94FDE129F4A0CEC12AAC208DEA8BCDAE4C1E036CBF76CE8E5C00D73E8C6879101FAE59205CC62A19FA75C245823463FB335BAC3BDBBC477B82C48C8772EDCCD0D65B7BDB9A1C1A209F25F107158E1CC53F60AE2337075C45B065EE8250812C9E8F12897418898D27470954EB1C13E9E1E524156C2F2ADC48B472F858B945438ACAF70054274D3A6F85FCBF354CC48CD2C918F082C262937E42E27A7AC5F99770F3727A7F0215B93A1EFD5532AFF2EC474E2CE41AE08379BB48B701599CED74F200E3B4D16B1B7B69D2CC622BFC470608F6F3F67B72086616A3A0FB347CF5FEAE6C1885EAC158E0DC904A52E8571A0D66DC3E9C9A734DA9892ED2A7AF0B0D4B5A1DB4992440B2FA703D1CE085FFFF12DA2CBF7A8E953406A0D453F4DBE4224F2F02D05ED1FC7E33F4923A9C125EA7E8A4BBE4CE461F7C7E2F1E2263C853E4CE1E86451B8619881640196F2868AA8B3E453D0890462AEF5005656E13DC00B53F9F8E2850B6F03FC86CE0BF50C2F1AB85FA40531E7146E60880F870DF361D234F38DB3DC03D29040B126021D4D19EEAA673A85FDB18E3DEA8C912983F026F13D72496DC7149C2B1B3637AD8C567CA8A7D2009CA8A78449E36A3BE68118517E04D14D77CD8B089D6DFA94682EFF6ADE3B1960F246B36B1250DB7D93B957995958B19E76568C5A671EDCB6C27D1AAB1D1DA73499F05076118CDBCD99B1C1FCC78023F72613F9DCD28AB3EAFB32087BD553FC55F098468FAF638026A53E6500E9C576905DB7E13541B3F3961AED5EB6DE7A8A0DB0FDD693C4A403DAAF8EB6C1A0E5EB8D2903884F39BBC6A0C21B9286414B25F3200CCA536C0B0CCA93E4D53168F168673AFFC20BDEAEB127FF7438FCC5A5965C5BE04D8E1E3BC69A85361E7FF6816A505D1BD695635539CE80CFA942E385FA582ABD9252F12FB207069EC394530F78F8699ABE0088AA18E90CC96330EEF4240CAA266A02C1EA5C242E1418D4555403C679AE2493EA336E4E1A00CA477A0981D739348088CBA90E902EB906D0EA78AAC0126E000D40D52955D52B7AD06F02A136BF3208B9181B0C490520494B0B7A57A62BB5042F8F8816B09599492D6CB9B10BB0CC0297570CF5C3C614D3F96A13A58E81BE968C895BA492FC32D0D032488CC81077237EB006845079279049D1A44334D52232832817660D296A947E0C8E62B177268AC25C57A649833ACB50A1C58C8459D33554D1ABB058282A633A1343F7B9934C1113158B8D9285191095BE35A46950A8F4441F9DF19E4C1F13F5808D8240A04F3DDF345CE6352BAA1A8C732A5502BD994AAA3BAACD2DB51395841BA5864AD5609C53A91468CD4452DC932C6E4A9D48C4DF6A1C49E6CA1C861CC049DED1B470545F261C4D351EED8FAEC066E3856BC6C37D99329A17EEED675FCDED7DBF0705C674C1515BBC2E9096D22846B25AC82DBED7C9FDF76271F500F0D3F96C1948C5A4EB86E6C0543527DE28E449AC4E4F550DFC3773B5A15F7A68CE3C948AE76860D8E5783E46289D4E14354738C600F041AC30E89C457E1684FA5BA6BE36E7B88085E132ECF0A857051190E698231686E72C5291628EA0F0F1CEC229B2CDB1D90FAA5950365D463B9A0A6C20DDC8255E93F4263CF31AB1363D4377606D7223B6E76D7DD57E989BB11D60416A4C0AF458BBBF50DAB1A20E8DF18FCE8231C9E658D4E1390B4553EDA8461C988B442319E678D4209405A3A9BBB3742BF55287954BF450F62B575F552B742FC565A7723F5E8B405D81733034D91C8BF8DF669148A2659F94607C8E3922EBB19BC563D32D561A71CACDAD34926A214D188FDC9C3461D22DE8CF3ADDE6E680CDD8A6F4742DDF5FD5C120573C77902C54436D2F5A6AEAF6732AA00EAE394624A9366B642576A54CB2C2C85D580B20799A05F7B2DEAB39EE6533CCF188876A168B24FEB64E7BBCAC50C7D0DCF64293CDB1AA073F1648F708B835D9A3D3BD180B1FEE71CB5EFED457EF470499B3C9962645563E399820F258D87E92F4106ED6805E4A1496BFBC84505B036F6DD28896BFC35CF18FB1F613D5505F3B4BD26D41E537B80E01FBF0E516E4AD4DED9B8DE09E978592326DF6E5C20D2FBF251769E628ACFB5D16894DB745E33CECCAA05CB60536F1A5CB4192549B73117596CB9F8D68BA8D06A27AD4E73510EAA7FE3A24E2F09605228916F73E85435BEEFEA7C8FF92CE5DF209DCF6F42DB8B0E5357C5C560B4C798716B26C301977B43C2293618DA7EA219361B3D2A85B597EA5D1745B34B9736CBAC558BDF44518A427FB9DA843C83DBFB20079828DE4484BF7ACBCE4A8526D7433C4D32BAF9C21C93658D4569F07D3DBF0D7CCD96BD25550E3834EAA50B57585912A5457553B5937D23429BFF6D02330FE53B90B394DB658529557556E555589D662A8F09AAA104345462BBCD233AA06B4CC6D8F4C5CA0D635400AD950967179CA5397C9B038D2E66E4DB9436D9EB23B4B91985C75598AD521ACC552D456D52EC51369292AFC93D63393CC3976D3DA5D475479F9E4318AB4BEF7902DDE6D3BB19968956BCF6D8D08FDE88A4ACF979C32B048B2C4609C274A604C9EC5658FF36FC95DF8B81C9B4B11E7C492BF0F715996D7DDCA55A574D1AD325AE16928AA2E617135929C5372D72429D76AC98B6E2A85952F66B7C056F459CC33475578B2648115D976EA715918D3D49D117E0A935247EAD8E253826EFA580D463FD2D08D3A977110C8EDE434D912AB7401288195E93BC9495ACBE0569C547C3DD28D9334187A89C3B9D5132C1EEA7C01EA31395F799C50AFF315A8C7DBA12738C928582C425A2F53C86F62145C1AE47296C2F9C8B1DD6F3EE2A4340E162D748B22E3514546B4A1E7CAF4092E3099FFE2CF7C0F62F15D15B802A1B7428C56B8A91A1FECED1F8C4727BE0792C286BBB43D7E2B7E4168648CBC7F888D91E132988AD5ED4D9A314A922CB9C70ED94DA7DA65D5005E5E1F3CB412105D1B5DB9768F78B6443FD2B6D1D3C4506CADC18ABDBB00099F40BC7804F11F02F0FC477B9FF3B26170019B13B473546CD4B7873CF892D4BB0EEE60D526B6AF99D1186B5DBE21E9DBE18B70099F8FC7FFCA2BBE1D5DFCFD23A9FB66741323A1F276B437FAF5CB61F56E3C25E331C6BD2ED60F35F07581C659F876241C35F0355DD01611C45496B2660B506521DBBC04CF9858B9BDAC40C6E2B661224D988CD8C83AC0E28D6E1D00B256B70EE0A8E16D878D8331B875417ED6E0D6019E5381E652D2CAC2318E3E3F55299A3582378C2C6FDD8D34D018B70EB11FF7220AA8952CCF3ABC47EFBD3D5B2E2ACD66BBAC92C264B63D026729EB6061106BD90E5DFA7F5C5B6627FA3A8633DBD4A8416D0DF2813527F3FEEE2D38C83AE2836C07398458514F00F6E1EF64569B0EF578D0F8AF3CF9CDE822B90F3DB43FBE1DDD2182E2B3BD1893C88D1C97FDDDE83BFA6B9B49D1FA66928BAAED4E9BE750CD9946F7A8A22A7F89EA38FDD5285AF4A6A8DAA137C6D35E63CD6A38ADAD4EF4F77D9FE8B171AC832D4E328C75719E2CAD63DBEF9AAC55AC830E29EC615DA01293580760AC4DAC8B5B0B318B7500464C635DDCCE1436B1954EE80B3A5D39BB6A0B66B02E119DDD1F3923587778CEFAC75AC13A837347BD5CFA3B00CAAD629DC88ECA30B6005BF91148AD41A8496C27143148B1A9DA98D6D4E98D8DA67A188DBFC617BB59C834851DAA4138B39B9E8F278C5DABF21860167FBEB4687527530A8B56B778A5316B0FA0C480D505366BC0EA00AFB063556EDD5D5682D21C74A830F53D3D7E39A2B8B31D878F30DF513BDE9F80EE72EBAB35F47C553A162E6ABA5AC1C5EB48DA07496F7302570548EF7841500441EF7EFBE3039DBBC27342425D20F33658DA20E6AA9B8CE1025704356FD3356D40F3360A02319CB9B9F2A9AAB945EDA3C2DAF2D5BE26ED9646528A1ADDEDC8244586EEF32DA02EFA7337C5F42B8BAAEC6CEBBC9583263BC3DE26DFEB58AB43B84DE204BE18CF60613065B7EF2D237CB60A07A277F16A227B476DE2677EC90133772546267DE153F467C0D0984346C3AC71CC63FAFC3810735904C1249EF699791C2436A51C6CA065E0CD76412EF55FB69BE9FFAC38A8E6E35DD551E27505B1B462216530494D70852E01305F015334F990DA41CEE8167A720782A529E20369F6AF01034C0EBD87E9BE66B430B7D9FD30923BC66CE5AD53C36C03068B1C9AD9741F3CEE38B3598584DC315EDBD6B97CCB9C667C34DF7A804739308B38ADE5D7A9FC5DB52E7663F1E1E8F178F910A1A92FD41AB6811D6BE33AAA1A308EFA48433B4A2DD02C550B79A4C8067026EEA384CEE4A9E08B48920DF8FC2D5B6A82CF56B572926CAE61AA0E4EA46B8C2E556D83B488BE517D5424B161E17C2DB52AE4AB9AD4854FD306A7AC8D4DA96607CBC895B5812B952D9886B594C4BCD49054A27E9AEC78A33C9ED6324759A6BE594DECB5BAB6CBD34A6DDB6599FAB63511CD8688A52988542EA694BC31A854A84C45AD1CDCB94899CAD069AAC8B40D870B058A36C6ED2E44C614040EEFA1B06EE8A220E11DAA751F6A8F712FDB0F5AB91728FC56771FFE70612DB96134C41E6E521968B85F1D707897A3583A210AB71D689CD5B8274A5F412B9D90C4A590B4085229FB9D4157972CC43629C5AF5398786B0A71843043B8E02E2DA4CC45B88AAABB93D0A3AA88F4C97A0A9648389CC4A987BF0241D9D81CC50BD1193E7FE2C73BE5035C5E843759BAC9523464183CF8DC868BEF6075EDE79138F93E1FDDE45FA3262E8680BAE961339E9BF05DE6F94BD2EF73C50BB106025FEE4AE30F3C9729360259BF10A4EB2834042AC947EEA477101D3310587213CE01B62DB4EF1B62BF4BB8068B176A0FA003699E089EEC47A71E58C720484A0C5A1FFD443CBC0C9EBFFF1FFA4A18EAA0D40000 , N'6.4.4')
END

